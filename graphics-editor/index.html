<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphics Editor</title>
    <link rel="stylesheet" href="src/style.css">
</head>
<body>
    <div class="app-container">
        <div class="toolbar">
            <div class="tool-group">
                <button id="select-tool" class="tool-btn">Select</button>
                <button id="text-tool" class="tool-btn">Text</button>
                <button id="shape-tool" class="tool-btn">Shape</button>
                <button id="image-tool" class="tool-btn">Image</button>
            </div>
            <div class="tool-group">
                <input type="color" id="color-picker" title="Color">
                <select id="font-family">
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Helvetica">Helvetica</option>
                </select>
                <input type="number" id="font-size" value="16" min="8" max="72">
            </div>
            <div class="tool-group">
                <button id="bring-forward">Bring Forward</button>
                <button id="send-backward">Send Backward</button>
            </div>
            <div class="tool-group">
                <button id="export-btn">Export</button>
            </div>
            <div class="tool-group text-command">
                <input type="text" id="text-command" placeholder="Enter text command..." />
                <button id="execute-command">Execute</button>
            </div>
        </div>
        
        <div class="main-content">
            <div class="canvas-container">
                <canvas id="main-canvas"></canvas>
            </div>
            
            <div class="layers-panel">
                <h3>Layers</h3>
                <div id="layers-list"></div>
            </div>
        </div>
    </div>
    <script type="module">
        // Handle module loading errors
        window.addEventListener('error', function(e) {
            if (e.message.includes('Failed to load module script')) {
                console.error('Module loading error:', e);
            }
        });

        // Import and initialize the editor
        import('./src/main.js').catch(error => {
            console.error('Failed to load editor:', error);
        });
    </script>
    <script>
        // Expose canvas objects globally for debugging
        window.getCanvasState = () => ({
            objects: window.canvasObjects,
            selected: window.selectedObject
        });
    </script>
</body>
</html>